<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product - BLESSIFICATOR</title>
    <meta name="description" content="Product detail">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <a href="index.html" class="name">BLESSIFICATOR</a>
            </div>
            <div class="header-right">
                <a href="#" class="header-link">Info</a>
                <a href="https://www.instagram.com/blessificator/" class="header-link" target="_blank" rel="noopener noreferrer">IG</a>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container product-detail-container">
            <div class="product-detail-grid">
                <div class="product-detail-image">
                    <div id="imageCarousel" class="image-carousel">
                        <button class="carousel-arrow carousel-arrow-prev" onclick="changeCarouselImage(-1)" id="carouselPrev" style="display: none;">‹</button>
                        <div class="carousel-images-wrapper">
                            <img src="" alt="Product" id="productImage" class="carousel-image active">
                            <div id="additionalImages" class="additional-images"></div>
                        </div>
                        <button class="carousel-arrow carousel-arrow-next" onclick="changeCarouselImage(1)" id="carouselNext" style="display: none;">›</button>
                    </div>
                </div>
                <div class="product-detail-info">
                    <h1 class="product-detail-name" id="productName">PRODUCT NAME</h1>
                    <div class="product-detail-price" id="productPrice">€ 000</div>
                    <div class="product-detail-materials" id="productMaterials">
                        <p>MATERIAL DETAILS</p>
                    </div>
                    <div class="product-detail-specs" id="productSpecs">
                        <ul>
                            <li>Specification 1</li>
                            <li>Specification 2</li>
                            <li>Specification 3</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <p>©2025, BLESSIFICATOR</p>
        </div>
    </footer>

    <script>
        // Get product data from URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const productData = {
            name: urlParams.get('name') || 'PRODUCT NAME',
            image: urlParams.get('image') || '',
            price: urlParams.get('price') || '€ 000',
            materials: urlParams.get('materials') || 'MATERIAL DETAILS',
            specs: urlParams.get('specs') ? urlParams.get('specs').split('|') : [],
            additionalImages: urlParams.get('additionalImages') ? urlParams.get('additionalImages').split('|') : []
        };

        // Update page content
        document.getElementById('productName').textContent = productData.name;
        document.getElementById('productImage').src = productData.image;
        document.getElementById('productImage').alt = productData.name;
        document.getElementById('productPrice').textContent = productData.price;
        document.getElementById('productMaterials').innerHTML = '<p>' + productData.materials + '</p>';
        
        if (productData.specs.length > 0) {
            const specsList = productData.specs.map(spec => '<li>' + spec + '</li>').join('');
            document.getElementById('productSpecs').innerHTML = '<ul>' + specsList + '</ul>';
        }

        // Set up carousel for all products with multiple images
        const carouselContainer = document.querySelector('.carousel-images-wrapper');
        const mainImage = document.getElementById('productImage');
        const prevBtn = document.getElementById('carouselPrev');
        const nextBtn = document.getElementById('carouselNext');
        
        // Build images array
        let images = [productData.image];
        
        // For POLSKA, use specific images
        if (productData.name === 'POLSKA, BLACK') {
            images = ['projects/IMG_1520.JPG', 'projects/IMG_2258.jpeg'];
        } else if (productData.additionalImages.length > 0) {
            // For other products, use additionalImages if provided
            images = [productData.image, ...productData.additionalImages];
        }
        
        // Only set up carousel if there are multiple images
        if (images.length > 1) {
            // Clear and set up carousel
            carouselContainer.innerHTML = '';
            images.forEach(function(imgSrc, index) {
                const img = document.createElement('img');
                img.src = imgSrc;
                img.alt = productData.name;
                img.className = 'carousel-image' + (index === 0 ? ' active' : '');
                carouselContainer.appendChild(img);
            });
            
            // Show navigation arrows
            prevBtn.style.display = 'flex';
            nextBtn.style.display = 'flex';
            
            // Initialize carousel state
            window.currentCarouselIndex = 0;
            window.carouselImages = images;
        }
        
        // Carousel functions
        function changeCarouselImage(direction) {
            if (window.carouselImages && window.carouselImages.length > 0) {
                window.currentCarouselIndex = (window.currentCarouselIndex + direction + window.carouselImages.length) % window.carouselImages.length;
                updateCarousel();
            }
        }
        
        function goToCarouselImage(index) {
            window.currentCarouselIndex = index;
            updateCarousel();
        }
        
        function updateCarousel() {
            const images = document.querySelectorAll('.carousel-image');
            const dots = document.querySelectorAll('.carousel-dot');
            
            images.forEach(function(img, index) {
                if (index === window.currentCarouselIndex) {
                    img.classList.add('active');
                } else {
                    img.classList.remove('active');
                }
            });
            
            dots.forEach(function(dot, index) {
                if (index === window.currentCarouselIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
    </script>
</body>
</html>

